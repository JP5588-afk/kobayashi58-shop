<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>こばやし選物所</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .cart-float {
      position: fixed;
      top: 20px;
      right: 20px;
      font-size: 24px;
      cursor: pointer;
      z-index: 999;
    }

    .cart-float span {
      background: red;
      color: white;
      border-radius: 50%;
      padding: 2px 6px;
      font-size: 14px;
      margin-left: 4px;
      vertical-align: top;
    }

    .fly-img {
      position: absolute;
      z-index: 9999;
      width: 50px;
      transition: all 0.7s ease-in-out;
      pointer-events: none;
    }

    .button-group {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 12px;
    }

    .button-group a {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 46px;
      padding: 0 16px;
      font-size: 16px;
      font-weight: bold;
      border-radius: 12px;
      text-decoration: none;
      color: white;
      box-sizing: border-box;
      flex: 1;
      max-width: 160px;
    }

    .button-group .cart-btn {
      background-color: #ff69b4;
    }

    .button-group .line-btn {
      background-color: #00c300;
    }

    .button-group .line-btn:hover {
      background-color: #059944;
    }
  </style>
</head>
<body>
  <!-- 右上角浮動購物車圖示 -->
  <a href="cart.html" class="cart-float" id="cart-float">🛒<span id="cart-count">0</span></a>

  <header>
    <h1>こばやし選物所</h1>
    <p class="tagline">精選日系零食與小物，每一樣都想抱回家 🍡</p>
    <div class="button-group">
      <a href="notice.html" class="cart-btn">📌 訂購須知</a>
      <a href="https://line.me/ti/g/C9W7CPNKNQ" class="line-btn" target="_blank">🛋 LINE群組</a>
    </div>
  </header>

  <main class="product-grid">
    <div class="product-card">
      <a href="product.html?name=日式布丁">
        <img src="https://i.imgur.com/3LzXwlp.png" alt="日式布丁">
        <h3>日式布丁</h3>
        <p>NT$45</p>
      </a>
    </div>

    <div class="product-card">
      <a href="product.html?name=草莓麻糬">
        <img src="https://i.imgur.com/XXd8IKM.png" alt="草莓麻糬">
        <h3>草莓麻糬</h3>
        <p>NT$65</p>
      </a>
    </div>

    <div class="product-card">
      <a href="product.html?name=抹茶KitKat">
        <img src="https://i.imgur.com/sCVkD2b.png" alt="抹茶KitKat">
        <h3>抹茶 KitKat</h3>
        <p>NT$55</p>
      </a>
    </div>

    <div class="product-card">
      <a href="product.html?name=手工仙貝">
        <img src="https://i.imgur.com/PrLkZXT.png" alt="手工仙貝">
        <h3>手工仙貝</h3>
        <p>NT$70</p>
      </a>
    </div>

    <div class="product-card">
      <a href="product.html?name=日清拉麵杯">
        <img src="https://i.imgur.com/IwMJ2gO.png" alt="日清拉麵杯">
        <h3>日清拉麵杯</h3>
        <p>NT$49</p>
      </a>
    </div>

    <div class="product-card">
      <a href="product.html?name=Pocky%20巧克力棒">
        <img src="https://i.imgur.com/xkU43cF.png" alt="Pocky">
        <h3>Pocky 巧克力棒</h3>
        <p>NT$59</p>
      </a>
    </div>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", updateCartIconCount);

    function updateCartIconCount() {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const totalQty = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById("cart-count").textContent = totalQty;
    }
  </script>
</body>
</html>
