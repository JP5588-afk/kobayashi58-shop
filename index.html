<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã“ã°ã‚„ã—é¸ç‰©æ‰€</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* åŠ å…¥è³¼ç‰©è»Šå³ä¸Šè§’åœ–ç¤ºæ¨£å¼ */
    .cart-float {
      position: fixed;
      top: 20px;
      right: 20px;
      font-size: 24px;
      cursor: pointer;
      z-index: 999;
    }

    .cart-float span {
      background: red;
      color: white;
      border-radius: 50%;
      padding: 2px 6px;
      font-size: 14px;
      margin-left: 4px;
      vertical-align: top;
    }

    .fly-img {
      position: absolute;
      z-index: 9999;
      width: 50px;
      transition: all 0.7s ease-in-out;
      pointer-events: none;
    }
  </style>
</head>
<body>

  <!-- å³ä¸Šè§’æµ®å‹•è³¼ç‰©è»Šåœ–ç¤º -->
  <div class="cart-float" id="cart-float">ğŸ›’<span id="cart-count">0</span></div>

  <header>
    <h1>ã“ã°ã‚„ã—é¸ç‰©æ‰€</h1>
    <p class="tagline">ç²¾é¸æ—¥ç³»é›¶é£Ÿèˆ‡å°ç‰©ï¼Œæ¯ä¸€æ¨£éƒ½æƒ³æŠ±å›å®¶ ğŸ¡</p>
    <a href="cart.html" class="cart-btn">ğŸ›’ è³¼ç‰©è»Š</a>
    <a href="https://line.me/ti/g/C9W7CPNKNQ" class="line-btn" target="_blank">ğŸ’¬ LINEç¾¤</a>
  </header>

  <main class="product-grid">
    <div class="product">
      <a href="product.html?name=Pocky%20å·§å…‹åŠ›æ£’">
        <img src="https://i.imgur.com/xkU43cF.png" alt="Pocky">
      </a>
      <a href="product.html?name=Pocky%20å·§å…‹åŠ›æ£’">
        <h2>Pocky å·§å…‹åŠ›æ£’</h2>
      </a>
      <p>NT$59</p>
      <button onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
    </div>

    <div class="product">
      <a href="product.html?name=Calbee%20è–¯æ¢">
        <img src="https://i.imgur.com/yYB2rVA.png" alt="Calbee">
      </a>
      <a href="product.html?name=Calbee%20è–¯æ¢">
        <h2>Calbee è–¯æ¢</h2>
      </a>
      <p>NT$89</p>
      <button onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
    </div>
  </main>

  <script>
    let cartCount = 0;

    function addToCart(button) {
      // æ‰¾åˆ°å•†å“åœ–ç‰‡
      const product = button.closest('.product');
      const img = product.querySelector('img');
      const flyingImg = img.cloneNode();

      const imgRect = img.getBoundingClientRect();
      const cartIcon = document.getElementById('cart-float');
      const cartRect = cartIcon.getBoundingClientRect();

      flyingImg.classList.add('fly-img');
      flyingImg.style.top = imgRect.top + 'px';
      flyingImg.style.left = imgRect.left + 'px';
      flyingImg.style.width = img.offsetWidth + 'px';

      document.body.appendChild(flyingImg);

      // é–‹å§‹é£›è¡Œå‹•ç•«
      setTimeout(() => {
        flyingImg.style.top = cartRect.top + 'px';
        flyingImg.style.left = cartRect.left + 'px';
        flyingImg.style.width = '0px';
        flyingImg.style.opacity = '0';
      }, 10);

      setTimeout(() => {
        flyingImg.remove();
        cartCount++;
        document.getElementById('cart-count').textContent = cartCount;
      }, 700);
    }
  </script>
</body>
</html>
